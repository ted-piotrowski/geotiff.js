
        import Worker from 'web-worker';
        export function create() {
          const source = "const e=new Map;function t(t,n){Array.isArray(t)||(t=[t]),t.forEach((t=>e.set(t,n)))}t([void 0,1],(()=>Promise.resolve().then((function(){return s})).then((e=>e.default)))),t(5,(()=>Promise.resolve().then((function(){return h})).then((e=>e.default)))),t(6,(()=>{throw new Error(\"old style JPEG compression is not supported.\")})),t(7,(()=>Promise.resolve().then((function(){return A})).then((e=>e.default)))),t([8,32946],(()=>Promise.resolve().then((function(){return Pn})).then((e=>e.default)))),t(32773,(()=>Promise.resolve().then((function(){return On})).then((e=>e.default)))),t(34887,(()=>Promise.resolve().then((function(){return Nn})).then((e=>e.default)))),t(50001,(()=>Promise.resolve().then((function(){return Hn})).then((e=>e.default))));const n=globalThis;function r(e,t){let n=e.length-t,r=0;do{for(let n=t;n>0;n--)e[r+t]+=e[r],r++;n-=t}while(n>0)}function a(e,t,n){let r=0,a=e.length;const i=a/n;for(;a>t;){for(let n=t;n>0;--n)e[r+t]+=e[r],++r;a-=t}const s=e.slice();for(let t=0;t<i;++t)for(let r=0;r<n;++r)e[n*t+r]=s[(n-r-1)*i+t]}n.addEventListener(\"message\",(async t=>{const{id:r,fileDirectory:a,buffer:i}=t.data,s=await async function(t){const n=e.get(t.Compression);if(!n)throw new Error(`Unknown compression method identifier: ${t.Compression}`);return new(await n())(t)}(a),o=await s.decode(a,i);n.postMessage({decoded:o,id:r},[o])}));class i{async decode(e,t){const n=await this.decodeBlock(t),i=e.Predictor||1;if(1!==i){const t=!e.StripOffsets;return function(e,t,n,i,s,o){if(!t||1===t)return e;for(let e=0;e<s.length;++e){if(s[e]%8!=0)throw new Error(\"When decoding with predictor, only multiple of 8 bits are supported.\");if(s[e]!==s[0])throw new Error(\"When decoding with predictor, all samples must have the same size.\")}const l=s[0]/8,f=2===o?1:s.length;for(let o=0;o<i&&!(o*f*n*l>=e.byteLength);++o){let i;if(2===t){switch(s[0]){case 8:i=new Uint8Array(e,o*f*n*l,f*n*l);break;case 16:i=new Uint16Array(e,o*f*n*l,f*n*l/2);break;case 32:i=new Uint32Array(e,o*f*n*l,f*n*l/4);break;default:throw new Error(`Predictor 2 not allowed with ${s[0]} bits per sample.`)}r(i,f)}else 3===t&&(i=new Uint8Array(e,o*f*n*l,f*n*l),a(i,f,l))}return e}(n,i,t?e.TileWidth:e.ImageWidth,t?e.TileLength:e.RowsPerStrip||e.ImageLength,e.BitsPerSample,e.PlanarConfiguration)}return n}}var s=Object.freeze({__proto__:null,default:class extends i{decodeBlock(e){return e}}});const o=257;function l(e,t){for(let n=t.length-1;n>=0;n--)e.push(t[n]);return e}function f(e){const t=new Uint16Array(4093),n=new Uint8Array(4093);for(let e=0;e<=257;e++)t[e]=4096,n[e]=e;let r=258,a=9,i=0;function s(){r=258,a=9}function f(e){const t=function(e,t,n){const r=t%8,a=Math.floor(t/8),i=8-r,s=t+n-8*(a+1);let l=8*(a+2)-(t+n);const f=8*(a+2)-t;if(l=Math.max(0,l),a>=e.length)return console.warn(\"ran off the end of the buffer before finding EOI_CODE (end on input code)\"),o;let h=e[a]&2**(8-r)-1;h<<=n-i;let d=h;if(a+1<e.length){let t=e[a+1]>>>l;t<<=Math.max(0,n-f),d+=t}if(s>8&&a+2<e.length){const r=8*(a+3)-(t+n);d+=e[a+2]>>>r}return d}(e,i,a);return i+=a,t}function h(e,a){return n[r]=a,t[r]=e,r++,r-1}function d(e){const r=[];for(let a=e;4096!==a;a=t[a])r.push(n[a]);return r}const c=[];s();const u=new Uint8Array(e);let _,m=f(u);for(;m!==o;){if(256===m){for(s(),m=f(u);256===m;)m=f(u);if(m===o)break;if(m>256)throw new Error(`corrupted code at scanline ${m}`);l(c,d(m)),_=m}else if(m<r){const e=d(m);l(c,e),h(_,e[e.length-1]),_=m}else{const e=d(_);if(!e)throw new Error(`Bogus entry. Not in dictionary, ${_} / ${r}, position: ${i}`);l(c,e),c.push(e[e.length-1]),h(_,e[e.length-1]),_=m}r+1>=2**a&&(12===a?_=void 0:a++),m=f(u)}return new Uint8Array(c)}var h=Object.freeze({__proto__:null,default:class extends i{decodeBlock(e){return f(e).buffer}}});const d=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),c=4017,u=799,_=3406,m=2276,w=1567,p=3784,g=5793,b=2896;function k(e,t){let n=0;const r=[];let a=16;for(;a>0&&!e[a-1];)--a;r.push({children:[],index:0});let i,s=r[0];for(let o=0;o<a;o++){for(let a=0;a<e[o];a++){for(s=r.pop(),s.children[s.index]=t[n];s.index>0;)s=r.pop();for(s.index++,r.push(s);r.length<=o;)r.push(i={children:[],index:0}),s.children[s.index]=i.children,s=i;n++}o+1<a&&(r.push(i={children:[],index:0}),s.children[s.index]=i.children,s=i)}return r[0].children}function y(e,t,n,r,a,i,s,o,l){const{mcusPerLine:f,progressive:h}=n,c=t;let u=t,_=0,m=0;function w(){if(m>0)return m--,_>>m&1;if(_=e[u++],255===_){const t=e[u++];if(t)throw new Error(`unexpected marker: ${(_<<8|t).toString(16)}`)}return m=7,_>>>7}function p(e){let t,n=e;for(;null!==(t=w());){if(n=n[t],\"number\"==typeof n)return n;if(\"object\"!=typeof n)throw new Error(\"invalid huffman sequence\")}return null}function g(e){let t=e,n=0;for(;t>0;){const e=w();if(null===e)return;n=n<<1|e,--t}return n}function b(e){const t=g(e);return t>=1<<e-1?t:t+(-1<<e)+1}let k=0;let y,x=0;function v(e,t,n,r,a){const i=n%f,s=(n/f|0)*e.v+r,o=i*e.h+a;t(e,e.blocks[s][o])}function A(e,t,n){const r=n/e.blocksPerLine|0,a=n%e.blocksPerLine;t(e,e.blocks[r][a])}const z=r.length;let U,I,D,E,B,T;T=h?0===i?0===o?function(e,t){const n=p(e.huffmanTableDC),r=0===n?0:b(n)<<l;e.pred+=r,t[0]=e.pred}:function(e,t){t[0]|=w()<<l}:0===o?function(e,t){if(k>0)return void k--;let n=i;const r=s;for(;n<=r;){const r=p(e.huffmanTableAC),a=15&r,i=r>>4;if(0===a){if(i<15){k=g(i)+(1<<i)-1;break}n+=16}else n+=i,t[d[n]]=b(a)*(1<<l),n++}}:function(e,t){let n=i;const r=s;let a=0;for(;n<=r;){const r=d[n],i=t[r]<0?-1:1;switch(x){case 0:{const t=p(e.huffmanTableAC),n=15&t;if(a=t>>4,0===n)a<15?(k=g(a)+(1<<a),x=4):(a=16,x=1);else{if(1!==n)throw new Error(\"invalid ACn encoding\");y=b(n),x=a?2:3}continue}case 1:case 2:t[r]?t[r]+=(w()<<l)*i:(a--,0===a&&(x=2===x?3:0));break;case 3:t[r]?t[r]+=(w()<<l)*i:(t[r]=y<<l,x=0);break;case 4:t[r]&&(t[r]+=(w()<<l)*i)}n++}4===x&&(k--,0===k&&(x=0))}:function(e,t){const n=p(e.huffmanTableDC),r=0===n?0:b(n);e.pred+=r,t[0]=e.pred;let a=1;for(;a<64;){const n=p(e.huffmanTableAC),r=15&n,i=n>>4;if(0===r){if(i<15)break;a+=16}else a+=i,t[d[a]]=b(r),a++}};let M,S,P=0;S=1===z?r[0].blocksPerLine*r[0].blocksPerColumn:f*n.mcusPerColumn;const V=a||S;for(;P<S;){for(I=0;I<z;I++)r[I].pred=0;if(k=0,1===z)for(U=r[0],B=0;B<V;B++)A(U,T,P),P++;else for(B=0;B<V;B++){for(I=0;I<z;I++){U=r[I];const{h:e,v:t}=U;for(D=0;D<t;D++)for(E=0;E<e;E++)v(U,T,P,D,E)}if(P++,P===S)break}if(m=0,M=e[u]<<8|e[u+1],M<65280)throw new Error(\"marker was not found\");if(!(M>=65488&&M<=65495))break;u+=2}return u-c}function x(e,t){const n=[],{blocksPerLine:r,blocksPerColumn:a}=t,i=r<<3,s=new Int32Array(64),o=new Uint8Array(64);function l(e,n,r){const a=t.quantizationTable;let i,s,o,l,f,h,d,k,y;const x=r;let v;for(v=0;v<64;v++)x[v]=e[v]*a[v];for(v=0;v<8;++v){const e=8*v;0!==x[1+e]||0!==x[2+e]||0!==x[3+e]||0!==x[4+e]||0!==x[5+e]||0!==x[6+e]||0!==x[7+e]?(i=g*x[0+e]+128>>8,s=g*x[4+e]+128>>8,o=x[2+e],l=x[6+e],f=b*(x[1+e]-x[7+e])+128>>8,k=b*(x[1+e]+x[7+e])+128>>8,h=x[3+e]<<4,d=x[5+e]<<4,y=i-s+1>>1,i=i+s+1>>1,s=y,y=o*p+l*w+128>>8,o=o*w-l*p+128>>8,l=y,y=f-d+1>>1,f=f+d+1>>1,d=y,y=k+h+1>>1,h=k-h+1>>1,k=y,y=i-l+1>>1,i=i+l+1>>1,l=y,y=s-o+1>>1,s=s+o+1>>1,o=y,y=f*m+k*_+2048>>12,f=f*_-k*m+2048>>12,k=y,y=h*u+d*c+2048>>12,h=h*c-d*u+2048>>12,d=y,x[0+e]=i+k,x[7+e]=i-k,x[1+e]=s+d,x[6+e]=s-d,x[2+e]=o+h,x[5+e]=o-h,x[3+e]=l+f,x[4+e]=l-f):(y=g*x[0+e]+512>>10,x[0+e]=y,x[1+e]=y,x[2+e]=y,x[3+e]=y,x[4+e]=y,x[5+e]=y,x[6+e]=y,x[7+e]=y)}for(v=0;v<8;++v){const e=v;0!==x[8+e]||0!==x[16+e]||0!==x[24+e]||0!==x[32+e]||0!==x[40+e]||0!==x[48+e]||0!==x[56+e]?(i=g*x[0+e]+2048>>12,s=g*x[32+e]+2048>>12,o=x[16+e],l=x[48+e],f=b*(x[8+e]-x[56+e])+2048>>12,k=b*(x[8+e]+x[56+e])+2048>>12,h=x[24+e],d=x[40+e],y=i-s+1>>1,i=i+s+1>>1,s=y,y=o*p+l*w+2048>>12,o=o*w-l*p+2048>>12,l=y,y=f-d+1>>1,f=f+d+1>>1,d=y,y=k+h+1>>1,h=k-h+1>>1,k=y,y=i-l+1>>1,i=i+l+1>>1,l=y,y=s-o+1>>1,s=s+o+1>>1,o=y,y=f*m+k*_+2048>>12,f=f*_-k*m+2048>>12,k=y,y=h*u+d*c+2048>>12,h=h*c-d*u+2048>>12,d=y,x[0+e]=i+k,x[56+e]=i-k,x[8+e]=s+d,x[48+e]=s-d,x[16+e]=o+h,x[40+e]=o-h,x[24+e]=l+f,x[32+e]=l-f):(y=g*r[v+0]+8192>>14,x[0+e]=y,x[8+e]=y,x[16+e]=y,x[24+e]=y,x[32+e]=y,x[40+e]=y,x[48+e]=y,x[56+e]=y)}for(v=0;v<64;++v){const e=128+(x[v]+8>>4);n[v]=e<0?0:e>255?255:e}}for(let e=0;e<a;e++){const a=e<<3;for(let e=0;e<8;e++)n.push(new Uint8Array(i));for(let i=0;i<r;i++){l(t.blocks[e][i],o,s);let r=0;const f=i<<3;for(let e=0;e<8;e++){const t=n[a+e];for(let e=0;e<8;e++)t[f+e]=o[r++]}}}return n}class v{constructor(){this.jfif=null,this.adobe=null,this.quantizationTables=[],this.huffmanTablesAC=[],this.huffmanTablesDC=[],this.resetFrames()}resetFrames(){this.frames=[]}parse(e){let t=0;function n(){const n=e[t]<<8|e[t+1];return t+=2,n}function r(){const r=n(),a=e.subarray(t,t+r-2);return t+=a.length,a}function a(e){let t,n,r=0,a=0;for(n in e.components)e.components.hasOwnProperty(n)&&(t=e.components[n],r<t.h&&(r=t.h),a<t.v&&(a=t.v));const i=Math.ceil(e.samplesPerLine/8/r),s=Math.ceil(e.scanLines/8/a);for(n in e.components)if(e.components.hasOwnProperty(n)){t=e.components[n];const o=Math.ceil(Math.ceil(e.samplesPerLine/8)*t.h/r),l=Math.ceil(Math.ceil(e.scanLines/8)*t.v/a),f=i*t.h,h=s*t.v,d=[];for(let e=0;e<h;e++){const e=[];for(let t=0;t<f;t++)e.push(new Int32Array(64));d.push(e)}t.blocksPerLine=o,t.blocksPerColumn=l,t.blocks=d}e.maxH=r,e.maxV=a,e.mcusPerLine=i,e.mcusPerColumn=s}let i=n();if(65496!==i)throw new Error(\"SOI not found\");for(i=n();65497!==i;){switch(i){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:{const e=r();65504===i&&74===e[0]&&70===e[1]&&73===e[2]&&70===e[3]&&0===e[4]&&(this.jfif={version:{major:e[5],minor:e[6]},densityUnits:e[7],xDensity:e[8]<<8|e[9],yDensity:e[10]<<8|e[11],thumbWidth:e[12],thumbHeight:e[13],thumbData:e.subarray(14,14+3*e[12]*e[13])}),65518===i&&65===e[0]&&100===e[1]&&111===e[2]&&98===e[3]&&101===e[4]&&0===e[5]&&(this.adobe={version:e[6],flags0:e[7]<<8|e[8],flags1:e[9]<<8|e[10],transformCode:e[11]});break}case 65499:{const r=n()+t-2;for(;t<r;){const r=e[t++],a=new Int32Array(64);if(r>>4==0)for(let n=0;n<64;n++){a[d[n]]=e[t++]}else{if(r>>4!=1)throw new Error(\"DQT: invalid table spec\");for(let e=0;e<64;e++){a[d[e]]=n()}}this.quantizationTables[15&r]=a}break}case 65472:case 65473:case 65474:{n();const r={extended:65473===i,progressive:65474===i,precision:e[t++],scanLines:n(),samplesPerLine:n(),components:{},componentsOrder:[]},s=e[t++];let o;for(let n=0;n<s;n++){o=e[t];const n=e[t+1]>>4,a=15&e[t+1],i=e[t+2];r.componentsOrder.push(o),r.components[o]={h:n,v:a,quantizationIdx:i},t+=3}a(r),this.frames.push(r);break}case 65476:{const r=n();for(let n=2;n<r;){const r=e[t++],a=new Uint8Array(16);let i=0;for(let n=0;n<16;n++,t++)a[n]=e[t],i+=a[n];const s=new Uint8Array(i);for(let n=0;n<i;n++,t++)s[n]=e[t];n+=17+i,r>>4==0?this.huffmanTablesDC[15&r]=k(a,s):this.huffmanTablesAC[15&r]=k(a,s)}break}case 65501:n(),this.resetInterval=n();break;case 65498:{n();const r=e[t++],a=[],i=this.frames[0];for(let n=0;n<r;n++){const n=i.components[e[t++]],r=e[t++];n.huffmanTableDC=this.huffmanTablesDC[r>>4],n.huffmanTableAC=this.huffmanTablesAC[15&r],a.push(n)}const s=e[t++],o=e[t++],l=e[t++],f=y(e,t,i,a,this.resetInterval,s,o,l>>4,15&l);t+=f;break}case 65535:255!==e[t]&&t--;break;default:if(255===e[t-3]&&e[t-2]>=192&&e[t-2]<=254){t-=3;break}throw new Error(`unknown JPEG marker ${i.toString(16)}`)}i=n()}}getResult(){const{frames:e}=this;if(0===this.frames.length)throw new Error(\"no frames were decoded\");this.frames.length>1&&console.warn(\"more than one frame is not supported\");for(let e=0;e<this.frames.length;e++){const t=this.frames[e].components;for(const e of Object.keys(t))t[e].quantizationTable=this.quantizationTables[t[e].quantizationIdx],delete t[e].quantizationIdx}const t=e[0],{components:n,componentsOrder:r}=t,a=[],i=t.samplesPerLine,s=t.scanLines;for(let e=0;e<r.length;e++){const i=n[r[e]];a.push({lines:x(0,i),scaleX:i.h/t.maxH,scaleY:i.v/t.maxV})}const o=new Uint8Array(i*s*a.length);let l=0;for(let e=0;e<s;++e)for(let t=0;t<i;++t)for(let n=0;n<a.length;++n){const r=a[n];o[l]=r.lines[0|e*r.scaleY][0|t*r.scaleX],++l}return o}}var A=Object.freeze({__proto__:null,default:class extends i{constructor(e){super(),this.reader=new v,e.JPEGTables&&this.reader.parse(e.JPEGTables)}decodeBlock(e){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(e)),this.reader.getResult().buffer}}});\n/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */function z(e){let t=e.length;for(;--t>=0;)e[t]=0}const U=256,I=286,D=30,E=15,B=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),T=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),M=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),S=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),P=new Array(576);z(P);const V=new Array(60);z(V);const O=new Array(512);z(O);const C=new Array(256);z(C);const R=new Array(29);z(R);const L=new Array(D);function Z(e,t,n,r,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=e&&e.length}let F,N,H;function j(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}z(L);const Y=e=>e<256?O[e]:O[256+(e>>>7)],X=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},K=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,X(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},q=(e,t,n)=>{K(e,n[2*t],n[2*t+1])},G=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},W=(e,t,n)=>{const r=new Array(16);let a,i,s=0;for(a=1;a<=E;a++)s=s+n[a-1]<<1,r[a]=s;for(i=0;i<=t;i++){let t=e[2*i+1];0!==t&&(e[2*i]=G(r[t]++,t))}},$=e=>{let t;for(t=0;t<I;t++)e.dyn_ltree[2*t]=0;for(t=0;t<D;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},J=e=>{e.bi_valid>8?X(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Q=(e,t,n,r)=>{const a=2*t,i=2*n;return e[a]<e[i]||e[a]===e[i]&&r[t]<=r[n]},ee=(e,t,n)=>{const r=e.heap[n];let a=n<<1;for(;a<=e.heap_len&&(a<e.heap_len&&Q(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!Q(t,r,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=r},te=(e,t,n)=>{let r,a,i,s,o=0;if(0!==e.sym_next)do{r=255&e.pending_buf[e.sym_buf+o++],r+=(255&e.pending_buf[e.sym_buf+o++])<<8,a=e.pending_buf[e.sym_buf+o++],0===r?q(e,a,t):(i=C[a],q(e,i+U+1,t),s=B[i],0!==s&&(a-=R[i],K(e,a,s)),r--,i=Y(r),q(e,i,n),s=T[i],0!==s&&(r-=L[i],K(e,r,s)))}while(o<e.sym_next);q(e,256,t)},ne=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,a=t.stat_desc.has_stree,i=t.stat_desc.elems;let s,o,l,f=-1;for(e.heap_len=0,e.heap_max=573,s=0;s<i;s++)0!==n[2*s]?(e.heap[++e.heap_len]=f=s,e.depth[s]=0):n[2*s+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=f<2?++f:0,n[2*l]=1,e.depth[l]=0,e.opt_len--,a&&(e.static_len-=r[2*l+1]);for(t.max_code=f,s=e.heap_len>>1;s>=1;s--)ee(e,n,s);l=i;do{s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ee(e,n,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,n[2*l]=n[2*s]+n[2*o],e.depth[l]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,n[2*s+1]=n[2*o+1]=l,e.heap[1]=l++,ee(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,a=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,l=t.stat_desc.max_length;let f,h,d,c,u,_,m=0;for(c=0;c<=E;c++)e.bl_count[c]=0;for(n[2*e.heap[e.heap_max]+1]=0,f=e.heap_max+1;f<573;f++)h=e.heap[f],c=n[2*n[2*h+1]+1]+1,c>l&&(c=l,m++),n[2*h+1]=c,h>r||(e.bl_count[c]++,u=0,h>=o&&(u=s[h-o]),_=n[2*h],e.opt_len+=_*(c+u),i&&(e.static_len+=_*(a[2*h+1]+u)));if(0!==m){do{for(c=l-1;0===e.bl_count[c];)c--;e.bl_count[c]--,e.bl_count[c+1]+=2,e.bl_count[l]--,m-=2}while(m>0);for(c=l;0!==c;c--)for(h=e.bl_count[c];0!==h;)d=e.heap[--f],d>r||(n[2*d+1]!==c&&(e.opt_len+=(c-n[2*d+1])*n[2*d],n[2*d+1]=c),h--)}})(e,t),W(n,f,e.bl_count)},re=(e,t,n)=>{let r,a,i=-1,s=t[1],o=0,l=7,f=4;for(0===s&&(l=138,f=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)a=s,s=t[2*(r+1)+1],++o<l&&a===s||(o<f?e.bl_tree[2*a]+=o:0!==a?(a!==i&&e.bl_tree[2*a]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,i=a,0===s?(l=138,f=3):a===s?(l=6,f=3):(l=7,f=4))},ae=(e,t,n)=>{let r,a,i=-1,s=t[1],o=0,l=7,f=4;for(0===s&&(l=138,f=3),r=0;r<=n;r++)if(a=s,s=t[2*(r+1)+1],!(++o<l&&a===s)){if(o<f)do{q(e,a,e.bl_tree)}while(0!=--o);else 0!==a?(a!==i&&(q(e,a,e.bl_tree),o--),q(e,16,e.bl_tree),K(e,o-3,2)):o<=10?(q(e,17,e.bl_tree),K(e,o-3,3)):(q(e,18,e.bl_tree),K(e,o-11,7));o=0,i=a,0===s?(l=138,f=3):a===s?(l=6,f=3):(l=7,f=4)}};let ie=!1;const se=(e,t,n,r)=>{K(e,0+(r?1:0),3),J(e),X(e,n),X(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var oe=(e,t,n,r)=>{let a,i,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<U;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),ne(e,e.l_desc),ne(e,e.d_desc),s=(e=>{let t;for(re(e,e.dyn_ltree,e.l_desc.max_code),re(e,e.dyn_dtree,e.d_desc.max_code),ne(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*S[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),a=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=a&&(a=i)):a=i=n+5,n+4<=a&&-1!==t?se(e,t,n,r):4===e.strategy||i===a?(K(e,2+(r?1:0),3),te(e,P,V)):(K(e,4+(r?1:0),3),((e,t,n,r)=>{let a;for(K(e,t-257,5),K(e,n-1,5),K(e,r-4,4),a=0;a<r;a++)K(e,e.bl_tree[2*S[a]+1],3);ae(e,e.dyn_ltree,t-1),ae(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),te(e,e.dyn_ltree,e.dyn_dtree)),$(e),r&&J(e)},le={_tr_init:e=>{ie||((()=>{let e,t,n,r,a;const i=new Array(16);for(n=0,r=0;r<28;r++)for(R[r]=n,e=0;e<1<<B[r];e++)C[n++]=r;for(C[n-1]=r,a=0,r=0;r<16;r++)for(L[r]=a,e=0;e<1<<T[r];e++)O[a++]=r;for(a>>=7;r<D;r++)for(L[r]=a<<7,e=0;e<1<<T[r]-7;e++)O[256+a++]=r;for(t=0;t<=E;t++)i[t]=0;for(e=0;e<=143;)P[2*e+1]=8,e++,i[8]++;for(;e<=255;)P[2*e+1]=9,e++,i[9]++;for(;e<=279;)P[2*e+1]=7,e++,i[7]++;for(;e<=287;)P[2*e+1]=8,e++,i[8]++;for(W(P,287,i),e=0;e<D;e++)V[2*e+1]=5,V[2*e]=G(e,5);F=new Z(P,B,257,I,E),N=new Z(V,T,0,D,E),H=new Z(new Array(0),M,0,19,7)})(),ie=!0),e.l_desc=new j(e.dyn_ltree,F),e.d_desc=new j(e.dyn_dtree,N),e.bl_desc=new j(e.bl_tree,H),e.bi_buf=0,e.bi_valid=0,$(e)},_tr_stored_block:se,_tr_flush_block:oe,_tr_tally:(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(C[n]+U+1)]++,e.dyn_dtree[2*Y(t)]++),e.sym_next===e.sym_end),_tr_align:e=>{K(e,2,3),q(e,256,P),(e=>{16===e.bi_valid?(X(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}};var fe=(e,t,n,r)=>{let a=65535&e|0,i=e>>>16&65535|0,s=0;for(;0!==n;){s=n>2e3?2e3:n,n-=s;do{a=a+t[r++]|0,i=i+a|0}while(--s);a%=65521,i%=65521}return a|i<<16|0};const he=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var de=(e,t,n,r)=>{const a=he,i=r+n;e^=-1;for(let n=r;n<i;n++)e=e>>>8^a[255&(e^t[n])];return-1^e},ce={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"},ue={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:_e,_tr_stored_block:me,_tr_flush_block:we,_tr_tally:pe,_tr_align:ge}=le,{Z_NO_FLUSH:be,Z_PARTIAL_FLUSH:ke,Z_FULL_FLUSH:ye,Z_FINISH:xe,Z_BLOCK:ve,Z_OK:Ae,Z_STREAM_END:ze,Z_STREAM_ERROR:Ue,Z_DATA_ERROR:Ie,Z_BUF_ERROR:De,Z_DEFAULT_COMPRESSION:Ee,Z_FILTERED:Be,Z_HUFFMAN_ONLY:Te,Z_RLE:Me,Z_FIXED:Se,Z_DEFAULT_STRATEGY:Pe,Z_UNKNOWN:Ve,Z_DEFLATED:Oe}=ue,Ce=258,Re=262,Le=42,Ze=113,Fe=666,Ne=(e,t)=>(e.msg=ce[t],t),He=e=>2*e-(e>4?9:0),je=e=>{let t=e.length;for(;--t>=0;)e[t]=0},Ye=e=>{let t,n,r,a=e.w_size;t=e.hash_size,r=t;do{n=e.head[--r],e.head[r]=n>=a?n-a:0}while(--t);t=a,r=t;do{n=e.prev[--r],e.prev[r]=n>=a?n-a:0}while(--t)};let Xe=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const Ke=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},qe=(e,t)=>{we(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ke(e.strm)},Ge=(e,t)=>{e.pending_buf[e.pending++]=t},We=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},$e=(e,t,n,r)=>{let a=e.avail_in;return a>r&&(a=r),0===a?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),n),1===e.state.wrap?e.adler=fe(e.adler,t,a,n):2===e.state.wrap&&(e.adler=de(e.adler,t,a,n)),e.next_in+=a,e.total_in+=a,a)},Je=(e,t)=>{let n,r,a=e.max_chain_length,i=e.strstart,s=e.prev_length,o=e.nice_match;const l=e.strstart>e.w_size-Re?e.strstart-(e.w_size-Re):0,f=e.window,h=e.w_mask,d=e.prev,c=e.strstart+Ce;let u=f[i+s-1],_=f[i+s];e.prev_length>=e.good_match&&(a>>=2),o>e.lookahead&&(o=e.lookahead);do{if(n=t,f[n+s]===_&&f[n+s-1]===u&&f[n]===f[i]&&f[++n]===f[i+1]){i+=2,n++;do{}while(f[++i]===f[++n]&&f[++i]===f[++n]&&f[++i]===f[++n]&&f[++i]===f[++n]&&f[++i]===f[++n]&&f[++i]===f[++n]&&f[++i]===f[++n]&&f[++i]===f[++n]&&i<c);if(r=Ce-(c-i),i=c-Ce,r>s){if(e.match_start=t,s=r,r>=o)break;u=f[i+s-1],_=f[i+s]}}}while((t=d[t&h])>l&&0!=--a);return s<=e.lookahead?s:e.lookahead},Qe=e=>{const t=e.w_size;let n,r,a;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Re)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),Ye(e),r+=t),0===e.strm.avail_in)break;if(n=$e(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=Xe(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=Xe(e,e.ins_h,e.window[a+3-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Re&&0!==e.strm.avail_in)},et=(e,t)=>{let n,r,a,i=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,s=0,o=e.strm.avail_in;do{if(n=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a)break;if(a=e.strm.avail_out-a,r=e.strstart-e.block_start,n>r+e.strm.avail_in&&(n=r+e.strm.avail_in),n>a&&(n=a),n<i&&(0===n&&t!==xe||t===be||n!==r+e.strm.avail_in))break;s=t===xe&&n===r+e.strm.avail_in?1:0,me(e,0,0,s),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,Ke(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&($e(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===s);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?4:t!==be&&t!==xe&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&($e(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,i=a>e.w_size?e.w_size:a,r=e.strstart-e.block_start,(r>=i||(r||t===xe)&&t!==be&&0===e.strm.avail_in&&r<=a)&&(n=r>a?a:r,s=t===xe&&0===e.strm.avail_in&&n===r?1:0,me(e,e.block_start,n,s),e.block_start+=n,Ke(e.strm)),s?3:1)},tt=(e,t)=>{let n,r;for(;;){if(e.lookahead<Re){if(Qe(e),e.lookahead<Re&&t===be)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Xe(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-Re&&(e.match_length=Je(e,n)),e.match_length>=3)if(r=pe(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Xe(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Xe(e,e.ins_h,e.window[e.strstart+1]);else r=pe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(qe(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===xe?(qe(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(qe(e,!1),0===e.strm.avail_out)?1:2},nt=(e,t)=>{let n,r,a;for(;;){if(e.lookahead<Re){if(Qe(e),e.lookahead<Re&&t===be)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Xe(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Re&&(e.match_length=Je(e,n),e.match_length<=5&&(e.strategy===Be||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-3,r=pe(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=Xe(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(qe(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=pe(e,0,e.window[e.strstart-1]),r&&qe(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=pe(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===xe?(qe(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(qe(e,!1),0===e.strm.avail_out)?1:2};function rt(e,t,n,r,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=a}const at=[new rt(0,0,0,0,et),new rt(4,4,8,4,tt),new rt(4,5,16,8,tt),new rt(4,6,32,32,tt),new rt(4,4,16,16,nt),new rt(8,16,32,32,nt),new rt(8,16,128,128,nt),new rt(8,32,128,256,nt),new rt(32,128,258,1024,nt),new rt(32,258,258,4096,nt)];function it(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Oe,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),je(this.dyn_ltree),je(this.dyn_dtree),je(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),je(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),je(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const st=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Le&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==Ze&&t.status!==Fe?1:0},ot=e=>{if(st(e))return Ne(e,Ue);e.total_in=e.total_out=0,e.data_type=Ve;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?Le:Ze,e.adler=2===t.wrap?0:1,t.last_flush=-2,_e(t),Ae},lt=e=>{const t=ot(e);var n;return t===Ae&&((n=e.state).window_size=2*n.w_size,je(n.head),n.max_lazy_match=at[n.level].max_lazy,n.good_match=at[n.level].good_length,n.nice_match=at[n.level].nice_length,n.max_chain_length=at[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),t},ft=(e,t,n,r,a,i)=>{if(!e)return Ue;let s=1;if(t===Ee&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),a<1||a>9||n!==Oe||r<8||r>15||t<0||t>9||i<0||i>Se||8===r&&1!==s)return Ne(e,Ue);8===r&&(r=9);const o=new it;return e.state=o,o.strm=e,o.status=Le,o.wrap=s,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=t,o.strategy=i,o.method=n,lt(e)};var ht={deflateInit:(e,t)=>ft(e,t,Oe,15,8,Pe),deflateInit2:ft,deflateReset:lt,deflateResetKeep:ot,deflateSetHeader:(e,t)=>st(e)||2!==e.state.wrap?Ue:(e.state.gzhead=t,Ae),deflate:(e,t)=>{if(st(e)||t>ve||t<0)return e?Ne(e,Ue):Ue;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===Fe&&t!==xe)return Ne(e,0===e.avail_out?De:Ue);const r=n.last_flush;if(n.last_flush=t,0!==n.pending){if(Ke(e),0===e.avail_out)return n.last_flush=-1,Ae}else if(0===e.avail_in&&He(t)<=He(r)&&t!==xe)return Ne(e,De);if(n.status===Fe&&0!==e.avail_in)return Ne(e,De);if(n.status===Le&&0===n.wrap&&(n.status=Ze),n.status===Le){let t=Oe+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=Te||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=r<<6,0!==n.strstart&&(t|=32),t+=31-t%31,We(n,t),0!==n.strstart&&(We(n,e.adler>>>16),We(n,65535&e.adler)),e.adler=1,n.status=Ze,Ke(e),0!==n.pending)return n.last_flush=-1,Ae}if(57===n.status)if(e.adler=0,Ge(n,31),Ge(n,139),Ge(n,8),n.gzhead)Ge(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Ge(n,255&n.gzhead.time),Ge(n,n.gzhead.time>>8&255),Ge(n,n.gzhead.time>>16&255),Ge(n,n.gzhead.time>>24&255),Ge(n,9===n.level?2:n.strategy>=Te||n.level<2?4:0),Ge(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(Ge(n,255&n.gzhead.extra.length),Ge(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=de(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(Ge(n,0),Ge(n,0),Ge(n,0),Ge(n,0),Ge(n,0),Ge(n,9===n.level?2:n.strategy>=Te||n.level<2?4:0),Ge(n,3),n.status=Ze,Ke(e),0!==n.pending)return n.last_flush=-1,Ae;if(69===n.status){if(n.gzhead.extra){let t=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=de(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=a,Ke(e),0!==n.pending)return n.last_flush=-1,Ae;t=0,r-=a}let a=new Uint8Array(n.gzhead.extra);n.pending_buf.set(a.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>t&&(e.adler=de(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=de(e.adler,n.pending_buf,n.pending-r,r)),Ke(e),0!==n.pending)return n.last_flush=-1,Ae;r=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,Ge(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=de(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=de(e.adler,n.pending_buf,n.pending-r,r)),Ke(e),0!==n.pending)return n.last_flush=-1,Ae;r=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,Ge(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=de(e.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Ke(e),0!==n.pending))return n.last_flush=-1,Ae;Ge(n,255&e.adler),Ge(n,e.adler>>8&255),e.adler=0}if(n.status=Ze,Ke(e),0!==n.pending)return n.last_flush=-1,Ae}if(0!==e.avail_in||0!==n.lookahead||t!==be&&n.status!==Fe){let r=0===n.level?et(n,t):n.strategy===Te?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(Qe(e),0===e.lookahead)){if(t===be)return 1;break}if(e.match_length=0,n=pe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(qe(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===xe?(qe(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(qe(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===Me?((e,t)=>{let n,r,a,i;const s=e.window;for(;;){if(e.lookahead<=Ce){if(Qe(e),e.lookahead<=Ce&&t===be)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(a=e.strstart-1,r=s[a],r===s[++a]&&r===s[++a]&&r===s[++a])){i=e.strstart+Ce;do{}while(r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&a<i);e.match_length=Ce-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=pe(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=pe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(qe(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===xe?(qe(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(qe(e,!1),0===e.strm.avail_out)?1:2})(n,t):at[n.level].func(n,t);if(3!==r&&4!==r||(n.status=Fe),1===r||3===r)return 0===e.avail_out&&(n.last_flush=-1),Ae;if(2===r&&(t===ke?ge(n):t!==ve&&(me(n,0,0,!1),t===ye&&(je(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),Ke(e),0===e.avail_out))return n.last_flush=-1,Ae}return t!==xe?Ae:n.wrap<=0?ze:(2===n.wrap?(Ge(n,255&e.adler),Ge(n,e.adler>>8&255),Ge(n,e.adler>>16&255),Ge(n,e.adler>>24&255),Ge(n,255&e.total_in),Ge(n,e.total_in>>8&255),Ge(n,e.total_in>>16&255),Ge(n,e.total_in>>24&255)):(We(n,e.adler>>>16),We(n,65535&e.adler)),Ke(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?Ae:ze)},deflateEnd:e=>{if(st(e))return Ue;const t=e.state.status;return e.state=null,t===Ze?Ne(e,Ie):Ae},deflateSetDictionary:(e,t)=>{let n=t.length;if(st(e))return Ue;const r=e.state,a=r.wrap;if(2===a||1===a&&r.status!==Le||r.lookahead)return Ue;if(1===a&&(e.adler=fe(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===a&&(je(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const i=e.avail_in,s=e.next_in,o=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Qe(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=Xe(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,Qe(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=s,e.input=o,e.avail_in=i,r.wrap=a,Ae},deflateInfo:\"pako deflate (from Nodeca project)\"};const dt=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var ct={assign:function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(\"object\"!=typeof n)throw new TypeError(n+\"must be non-object\");for(const t in n)dt(n,t)&&(e[t]=n[t])}}return e},flattenChunks:e=>{let t=0;for(let n=0,r=e.length;n<r;n++)t+=e[n].length;const n=new Uint8Array(t);for(let t=0,r=0,a=e.length;t<a;t++){let a=e[t];n.set(a,r),r+=a.length}return n}};let ut=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){ut=!1}const _t=new Uint8Array(256);for(let e=0;e<256;e++)_t[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;_t[254]=_t[254]=1;var mt={string2buf:e=>{if(\"function\"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,a,i,s=e.length,o=0;for(a=0;a<s;a++)n=e.charCodeAt(a),55296==(64512&n)&&a+1<s&&(r=e.charCodeAt(a+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(o),i=0,a=0;i<o;a++)n=e.charCodeAt(a),55296==(64512&n)&&a+1<s&&(r=e.charCodeAt(a+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|63&n):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|63&n):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|63&n);return t},buf2string:(e,t)=>{const n=t||e.length;if(\"function\"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,a;const i=new Array(2*n);for(a=0,r=0;r<n;){let t=e[r++];if(t<128){i[a++]=t;continue}let s=_t[t];if(s>4)i[a++]=65533,r+=s-1;else{for(t&=2===s?31:3===s?15:7;s>1&&r<n;)t=t<<6|63&e[r++],s--;s>1?i[a++]=65533:t<65536?i[a++]=t:(t-=65536,i[a++]=55296|t>>10&1023,i[a++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&ut)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n=\"\";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(i,a)},utf8border:(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+_t[e[n]]>t?n:t}};var wt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0};const pt=Object.prototype.toString,{Z_NO_FLUSH:gt,Z_SYNC_FLUSH:bt,Z_FULL_FLUSH:kt,Z_FINISH:yt,Z_OK:xt,Z_STREAM_END:vt,Z_DEFAULT_COMPRESSION:At,Z_DEFAULT_STRATEGY:zt,Z_DEFLATED:Ut}=ue;function It(e){this.options=ct.assign({level:At,method:Ut,chunkSize:16384,windowBits:15,memLevel:8,strategy:zt},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new wt,this.strm.avail_out=0;let n=ht.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==xt)throw new Error(ce[n]);if(t.header&&ht.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e=\"string\"==typeof t.dictionary?mt.string2buf(t.dictionary):\"[object ArrayBuffer]\"===pt.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=ht.deflateSetDictionary(this.strm,e),n!==xt)throw new Error(ce[n]);this._dict_set=!0}}It.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let a,i;if(this.ended)return!1;for(i=t===~~t?t:!0===t?yt:gt,\"string\"==typeof e?n.input=mt.string2buf(e):\"[object ArrayBuffer]\"===pt.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===bt||i===kt)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(a=ht.deflate(n,i),a===vt)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),a=ht.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===xt;if(0!==n.avail_out){if(i>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},It.prototype.onData=function(e){this.chunks.push(e)},It.prototype.onEnd=function(e){e===xt&&(this.result=ct.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const Dt=16209;var Et=function(e,t){let n,r,a,i,s,o,l,f,h,d,c,u,_,m,w,p,g,b,k,y,x,v,A,z;const U=e.state;n=e.next_in,A=e.input,r=n+(e.avail_in-5),a=e.next_out,z=e.output,i=a-(t-e.avail_out),s=a+(e.avail_out-257),o=U.dmax,l=U.wsize,f=U.whave,h=U.wnext,d=U.window,c=U.hold,u=U.bits,_=U.lencode,m=U.distcode,w=(1<<U.lenbits)-1,p=(1<<U.distbits)-1;e:do{u<15&&(c+=A[n++]<<u,u+=8,c+=A[n++]<<u,u+=8),g=_[c&w];t:for(;;){if(b=g>>>24,c>>>=b,u-=b,b=g>>>16&255,0===b)z[a++]=65535&g;else{if(!(16&b)){if(0==(64&b)){g=_[(65535&g)+(c&(1<<b)-1)];continue t}if(32&b){U.mode=16191;break e}e.msg=\"invalid literal/length code\",U.mode=Dt;break e}k=65535&g,b&=15,b&&(u<b&&(c+=A[n++]<<u,u+=8),k+=c&(1<<b)-1,c>>>=b,u-=b),u<15&&(c+=A[n++]<<u,u+=8,c+=A[n++]<<u,u+=8),g=m[c&p];n:for(;;){if(b=g>>>24,c>>>=b,u-=b,b=g>>>16&255,!(16&b)){if(0==(64&b)){g=m[(65535&g)+(c&(1<<b)-1)];continue n}e.msg=\"invalid distance code\",U.mode=Dt;break e}if(y=65535&g,b&=15,u<b&&(c+=A[n++]<<u,u+=8,u<b&&(c+=A[n++]<<u,u+=8)),y+=c&(1<<b)-1,y>o){e.msg=\"invalid distance too far back\",U.mode=Dt;break e}if(c>>>=b,u-=b,b=a-i,y>b){if(b=y-b,b>f&&U.sane){e.msg=\"invalid distance too far back\",U.mode=Dt;break e}if(x=0,v=d,0===h){if(x+=l-b,b<k){k-=b;do{z[a++]=d[x++]}while(--b);x=a-y,v=z}}else if(h<b){if(x+=l+h-b,b-=h,b<k){k-=b;do{z[a++]=d[x++]}while(--b);if(x=0,h<k){b=h,k-=b;do{z[a++]=d[x++]}while(--b);x=a-y,v=z}}}else if(x+=h-b,b<k){k-=b;do{z[a++]=d[x++]}while(--b);x=a-y,v=z}for(;k>2;)z[a++]=v[x++],z[a++]=v[x++],z[a++]=v[x++],k-=3;k&&(z[a++]=v[x++],k>1&&(z[a++]=v[x++]))}else{x=a-y;do{z[a++]=z[x++],z[a++]=z[x++],z[a++]=z[x++],k-=3}while(k>2);k&&(z[a++]=z[x++],k>1&&(z[a++]=z[x++]))}break}}break}}while(n<r&&a<s);k=u>>3,n-=k,u-=k<<3,c&=(1<<u)-1,e.next_in=n,e.next_out=a,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=a<s?s-a+257:257-(a-s),U.hold=c,U.bits=u};const Bt=15,Tt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Mt=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),St=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Pt=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Vt=(e,t,n,r,a,i,s,o)=>{const l=o.bits;let f,h,d,c,u,_,m=0,w=0,p=0,g=0,b=0,k=0,y=0,x=0,v=0,A=0,z=null;const U=new Uint16Array(16),I=new Uint16Array(16);let D,E,B,T=null;for(m=0;m<=Bt;m++)U[m]=0;for(w=0;w<r;w++)U[t[n+w]]++;for(b=l,g=Bt;g>=1&&0===U[g];g--);if(b>g&&(b=g),0===g)return a[i++]=20971520,a[i++]=20971520,o.bits=1,0;for(p=1;p<g&&0===U[p];p++);for(b<p&&(b=p),x=1,m=1;m<=Bt;m++)if(x<<=1,x-=U[m],x<0)return-1;if(x>0&&(0===e||1!==g))return-1;for(I[1]=0,m=1;m<Bt;m++)I[m+1]=I[m]+U[m];for(w=0;w<r;w++)0!==t[n+w]&&(s[I[t[n+w]]++]=w);if(0===e?(z=T=s,_=20):1===e?(z=Tt,T=Mt,_=257):(z=St,T=Pt,_=0),A=0,w=0,m=p,u=i,k=b,y=0,d=-1,v=1<<b,c=v-1,1===e&&v>852||2===e&&v>592)return 1;for(;;){D=m-y,s[w]+1<_?(E=0,B=s[w]):s[w]>=_?(E=T[s[w]-_],B=z[s[w]-_]):(E=96,B=0),f=1<<m-y,h=1<<k,p=h;do{h-=f,a[u+(A>>y)+h]=D<<24|E<<16|B|0}while(0!==h);for(f=1<<m-1;A&f;)f>>=1;if(0!==f?(A&=f-1,A+=f):A=0,w++,0==--U[m]){if(m===g)break;m=t[n+s[w]]}if(m>b&&(A&c)!==d){for(0===y&&(y=b),u+=p,k=m-y,x=1<<k;k+y<g&&(x-=U[k+y],!(x<=0));)k++,x<<=1;if(v+=1<<k,1===e&&v>852||2===e&&v>592)return 1;d=A&c,a[d]=b<<24|k<<16|u-i|0}}return 0!==A&&(a[u+A]=m-y<<24|64<<16|0),o.bits=b,0};const{Z_FINISH:Ot,Z_BLOCK:Ct,Z_TREES:Rt,Z_OK:Lt,Z_STREAM_END:Zt,Z_NEED_DICT:Ft,Z_STREAM_ERROR:Nt,Z_DATA_ERROR:Ht,Z_MEM_ERROR:jt,Z_BUF_ERROR:Yt,Z_DEFLATED:Xt}=ue,Kt=16180,qt=16190,Gt=16191,Wt=16192,$t=16194,Jt=16199,Qt=16200,en=16206,tn=16209,nn=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function rn(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const an=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Kt||t.mode>16211?1:0},sn=e=>{if(an(e))return Nt;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg=\"\",t.wrap&&(e.adler=1&t.wrap),t.mode=Kt,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Lt},on=e=>{if(an(e))return Nt;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,sn(e)},ln=(e,t)=>{let n;if(an(e))return Nt;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Nt:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,on(e))},fn=(e,t)=>{if(!e)return Nt;const n=new rn;e.state=n,n.strm=e,n.window=null,n.mode=Kt;const r=ln(e,t);return r!==Lt&&(e.state=null),r};let hn,dn,cn=!0;const un=e=>{if(cn){hn=new Int32Array(512),dn=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Vt(1,e.lens,0,288,hn,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Vt(2,e.lens,0,32,dn,0,e.work,{bits:5}),cn=!1}e.lencode=hn,e.lenbits=9,e.distcode=dn,e.distbits=5},_n=(e,t,n,r)=>{let a;const i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>r&&(a=r),i.window.set(t.subarray(n-r,n-r+a),i.wnext),(r-=a)?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0};var mn={inflateReset:on,inflateReset2:ln,inflateResetKeep:sn,inflateInit:e=>fn(e,15),inflateInit2:fn,inflate:(e,t)=>{let n,r,a,i,s,o,l,f,h,d,c,u,_,m,w,p,g,b,k,y,x,v,A=0;const z=new Uint8Array(4);let U,I;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(an(e)||!e.output||!e.input&&0!==e.avail_in)return Nt;n=e.state,n.mode===Gt&&(n.mode=Wt),s=e.next_out,a=e.output,l=e.avail_out,i=e.next_in,r=e.input,o=e.avail_in,f=n.hold,h=n.bits,d=o,c=l,v=Lt;e:for(;;)switch(n.mode){case Kt:if(0===n.wrap){n.mode=Wt;break}for(;h<16;){if(0===o)break e;o--,f+=r[i++]<<h,h+=8}if(2&n.wrap&&35615===f){0===n.wbits&&(n.wbits=15),n.check=0,z[0]=255&f,z[1]=f>>>8&255,n.check=de(n.check,z,2,0),f=0,h=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&f)<<8)+(f>>8))%31){e.msg=\"incorrect header check\",n.mode=tn;break}if((15&f)!==Xt){e.msg=\"unknown compression method\",n.mode=tn;break}if(f>>>=4,h-=4,x=8+(15&f),0===n.wbits&&(n.wbits=x),x>15||x>n.wbits){e.msg=\"invalid window size\",n.mode=tn;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&f?16189:Gt,f=0,h=0;break;case 16181:for(;h<16;){if(0===o)break e;o--,f+=r[i++]<<h,h+=8}if(n.flags=f,(255&n.flags)!==Xt){e.msg=\"unknown compression method\",n.mode=tn;break}if(57344&n.flags){e.msg=\"unknown header flags set\",n.mode=tn;break}n.head&&(n.head.text=f>>8&1),512&n.flags&&4&n.wrap&&(z[0]=255&f,z[1]=f>>>8&255,n.check=de(n.check,z,2,0)),f=0,h=0,n.mode=16182;case 16182:for(;h<32;){if(0===o)break e;o--,f+=r[i++]<<h,h+=8}n.head&&(n.head.time=f),512&n.flags&&4&n.wrap&&(z[0]=255&f,z[1]=f>>>8&255,z[2]=f>>>16&255,z[3]=f>>>24&255,n.check=de(n.check,z,4,0)),f=0,h=0,n.mode=16183;case 16183:for(;h<16;){if(0===o)break e;o--,f+=r[i++]<<h,h+=8}n.head&&(n.head.xflags=255&f,n.head.os=f>>8),512&n.flags&&4&n.wrap&&(z[0]=255&f,z[1]=f>>>8&255,n.check=de(n.check,z,2,0)),f=0,h=0,n.mode=16184;case 16184:if(1024&n.flags){for(;h<16;){if(0===o)break e;o--,f+=r[i++]<<h,h+=8}n.length=f,n.head&&(n.head.extra_len=f),512&n.flags&&4&n.wrap&&(z[0]=255&f,z[1]=f>>>8&255,n.check=de(n.check,z,2,0)),f=0,h=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(u=n.length,u>o&&(u=o),u&&(n.head&&(x=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+u),x)),512&n.flags&&4&n.wrap&&(n.check=de(n.check,r,u,i)),o-=u,i+=u,n.length-=u),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===o)break e;u=0;do{x=r[i+u++],n.head&&x&&n.length<65536&&(n.head.name+=String.fromCharCode(x))}while(x&&u<o);if(512&n.flags&&4&n.wrap&&(n.check=de(n.check,r,u,i)),o-=u,i+=u,x)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===o)break e;u=0;do{x=r[i+u++],n.head&&x&&n.length<65536&&(n.head.comment+=String.fromCharCode(x))}while(x&&u<o);if(512&n.flags&&4&n.wrap&&(n.check=de(n.check,r,u,i)),o-=u,i+=u,x)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;h<16;){if(0===o)break e;o--,f+=r[i++]<<h,h+=8}if(4&n.wrap&&f!==(65535&n.check)){e.msg=\"header crc mismatch\",n.mode=tn;break}f=0,h=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Gt;break;case 16189:for(;h<32;){if(0===o)break e;o--,f+=r[i++]<<h,h+=8}e.adler=n.check=nn(f),f=0,h=0,n.mode=qt;case qt:if(0===n.havedict)return e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=o,n.hold=f,n.bits=h,Ft;e.adler=n.check=1,n.mode=Gt;case Gt:if(t===Ct||t===Rt)break e;case Wt:if(n.last){f>>>=7&h,h-=7&h,n.mode=en;break}for(;h<3;){if(0===o)break e;o--,f+=r[i++]<<h,h+=8}switch(n.last=1&f,f>>>=1,h-=1,3&f){case 0:n.mode=16193;break;case 1:if(un(n),n.mode=Jt,t===Rt){f>>>=2,h-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg=\"invalid block type\",n.mode=tn}f>>>=2,h-=2;break;case 16193:for(f>>>=7&h,h-=7&h;h<32;){if(0===o)break e;o--,f+=r[i++]<<h,h+=8}if((65535&f)!=(f>>>16^65535)){e.msg=\"invalid stored block lengths\",n.mode=tn;break}if(n.length=65535&f,f=0,h=0,n.mode=$t,t===Rt)break e;case $t:n.mode=16195;case 16195:if(u=n.length,u){if(u>o&&(u=o),u>l&&(u=l),0===u)break e;a.set(r.subarray(i,i+u),s),o-=u,i+=u,l-=u,s+=u,n.length-=u;break}n.mode=Gt;break;case 16196:for(;h<14;){if(0===o)break e;o--,f+=r[i++]<<h,h+=8}if(n.nlen=257+(31&f),f>>>=5,h-=5,n.ndist=1+(31&f),f>>>=5,h-=5,n.ncode=4+(15&f),f>>>=4,h-=4,n.nlen>286||n.ndist>30){e.msg=\"too many length or distance symbols\",n.mode=tn;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;h<3;){if(0===o)break e;o--,f+=r[i++]<<h,h+=8}n.lens[D[n.have++]]=7&f,f>>>=3,h-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,U={bits:n.lenbits},v=Vt(0,n.lens,0,19,n.lencode,0,n.work,U),n.lenbits=U.bits,v){e.msg=\"invalid code lengths set\",n.mode=tn;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;A=n.lencode[f&(1<<n.lenbits)-1],w=A>>>24,p=A>>>16&255,g=65535&A,!(w<=h);){if(0===o)break e;o--,f+=r[i++]<<h,h+=8}if(g<16)f>>>=w,h-=w,n.lens[n.have++]=g;else{if(16===g){for(I=w+2;h<I;){if(0===o)break e;o--,f+=r[i++]<<h,h+=8}if(f>>>=w,h-=w,0===n.have){e.msg=\"invalid bit length repeat\",n.mode=tn;break}x=n.lens[n.have-1],u=3+(3&f),f>>>=2,h-=2}else if(17===g){for(I=w+3;h<I;){if(0===o)break e;o--,f+=r[i++]<<h,h+=8}f>>>=w,h-=w,x=0,u=3+(7&f),f>>>=3,h-=3}else{for(I=w+7;h<I;){if(0===o)break e;o--,f+=r[i++]<<h,h+=8}f>>>=w,h-=w,x=0,u=11+(127&f),f>>>=7,h-=7}if(n.have+u>n.nlen+n.ndist){e.msg=\"invalid bit length repeat\",n.mode=tn;break}for(;u--;)n.lens[n.have++]=x}}if(n.mode===tn)break;if(0===n.lens[256]){e.msg=\"invalid code -- missing end-of-block\",n.mode=tn;break}if(n.lenbits=9,U={bits:n.lenbits},v=Vt(1,n.lens,0,n.nlen,n.lencode,0,n.work,U),n.lenbits=U.bits,v){e.msg=\"invalid literal/lengths set\",n.mode=tn;break}if(n.distbits=6,n.distcode=n.distdyn,U={bits:n.distbits},v=Vt(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,U),n.distbits=U.bits,v){e.msg=\"invalid distances set\",n.mode=tn;break}if(n.mode=Jt,t===Rt)break e;case Jt:n.mode=Qt;case Qt:if(o>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=o,n.hold=f,n.bits=h,Et(e,c),s=e.next_out,a=e.output,l=e.avail_out,i=e.next_in,r=e.input,o=e.avail_in,f=n.hold,h=n.bits,n.mode===Gt&&(n.back=-1);break}for(n.back=0;A=n.lencode[f&(1<<n.lenbits)-1],w=A>>>24,p=A>>>16&255,g=65535&A,!(w<=h);){if(0===o)break e;o--,f+=r[i++]<<h,h+=8}if(p&&0==(240&p)){for(b=w,k=p,y=g;A=n.lencode[y+((f&(1<<b+k)-1)>>b)],w=A>>>24,p=A>>>16&255,g=65535&A,!(b+w<=h);){if(0===o)break e;o--,f+=r[i++]<<h,h+=8}f>>>=b,h-=b,n.back+=b}if(f>>>=w,h-=w,n.back+=w,n.length=g,0===p){n.mode=16205;break}if(32&p){n.back=-1,n.mode=Gt;break}if(64&p){e.msg=\"invalid literal/length code\",n.mode=tn;break}n.extra=15&p,n.mode=16201;case 16201:if(n.extra){for(I=n.extra;h<I;){if(0===o)break e;o--,f+=r[i++]<<h,h+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,h-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;A=n.distcode[f&(1<<n.distbits)-1],w=A>>>24,p=A>>>16&255,g=65535&A,!(w<=h);){if(0===o)break e;o--,f+=r[i++]<<h,h+=8}if(0==(240&p)){for(b=w,k=p,y=g;A=n.distcode[y+((f&(1<<b+k)-1)>>b)],w=A>>>24,p=A>>>16&255,g=65535&A,!(b+w<=h);){if(0===o)break e;o--,f+=r[i++]<<h,h+=8}f>>>=b,h-=b,n.back+=b}if(f>>>=w,h-=w,n.back+=w,64&p){e.msg=\"invalid distance code\",n.mode=tn;break}n.offset=g,n.extra=15&p,n.mode=16203;case 16203:if(n.extra){for(I=n.extra;h<I;){if(0===o)break e;o--,f+=r[i++]<<h,h+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,h-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg=\"invalid distance too far back\",n.mode=tn;break}n.mode=16204;case 16204:if(0===l)break e;if(u=c-l,n.offset>u){if(u=n.offset-u,u>n.whave&&n.sane){e.msg=\"invalid distance too far back\",n.mode=tn;break}u>n.wnext?(u-=n.wnext,_=n.wsize-u):_=n.wnext-u,u>n.length&&(u=n.length),m=n.window}else m=a,_=s-n.offset,u=n.length;u>l&&(u=l),l-=u,n.length-=u;do{a[s++]=m[_++]}while(--u);0===n.length&&(n.mode=Qt);break;case 16205:if(0===l)break e;a[s++]=n.length,l--,n.mode=Qt;break;case en:if(n.wrap){for(;h<32;){if(0===o)break e;o--,f|=r[i++]<<h,h+=8}if(c-=l,e.total_out+=c,n.total+=c,4&n.wrap&&c&&(e.adler=n.check=n.flags?de(n.check,a,c,s-c):fe(n.check,a,c,s-c)),c=l,4&n.wrap&&(n.flags?f:nn(f))!==n.check){e.msg=\"incorrect data check\",n.mode=tn;break}f=0,h=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;h<32;){if(0===o)break e;o--,f+=r[i++]<<h,h+=8}if(4&n.wrap&&f!==(4294967295&n.total)){e.msg=\"incorrect length check\",n.mode=tn;break}f=0,h=0}n.mode=16208;case 16208:v=Zt;break e;case tn:v=Ht;break e;case 16210:return jt;default:return Nt}return e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=o,n.hold=f,n.bits=h,(n.wsize||c!==e.avail_out&&n.mode<tn&&(n.mode<en||t!==Ot))&&_n(e,e.output,e.next_out,c-e.avail_out),d-=e.avail_in,c-=e.avail_out,e.total_in+=d,e.total_out+=c,n.total+=c,4&n.wrap&&c&&(e.adler=n.check=n.flags?de(n.check,a,c,e.next_out-c):fe(n.check,a,c,e.next_out-c)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Gt?128:0)+(n.mode===Jt||n.mode===$t?256:0),(0===d&&0===c||t===Ot)&&v===Lt&&(v=Yt),v},inflateEnd:e=>{if(an(e))return Nt;let t=e.state;return t.window&&(t.window=null),e.state=null,Lt},inflateGetHeader:(e,t)=>{if(an(e))return Nt;const n=e.state;return 0==(2&n.wrap)?Nt:(n.head=t,t.done=!1,Lt)},inflateSetDictionary:(e,t)=>{const n=t.length;let r,a,i;return an(e)?Nt:(r=e.state,0!==r.wrap&&r.mode!==qt?Nt:r.mode===qt&&(a=1,a=fe(a,t,n,0),a!==r.check)?Ht:(i=_n(e,t,n,n),i?(r.mode=16210,jt):(r.havedict=1,Lt)))},inflateInfo:\"pako inflate (from Nodeca project)\"};var wn=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1};const pn=Object.prototype.toString,{Z_NO_FLUSH:gn,Z_FINISH:bn,Z_OK:kn,Z_STREAM_END:yn,Z_NEED_DICT:xn,Z_STREAM_ERROR:vn,Z_DATA_ERROR:An,Z_MEM_ERROR:zn}=ue;function Un(e){this.options=ct.assign({chunkSize:65536,windowBits:15,to:\"\"},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new wt,this.strm.avail_out=0;let n=mn.inflateInit2(this.strm,t.windowBits);if(n!==kn)throw new Error(ce[n]);if(this.header=new wn,mn.inflateGetHeader(this.strm,this.header),t.dictionary&&(\"string\"==typeof t.dictionary?t.dictionary=mt.string2buf(t.dictionary):\"[object ArrayBuffer]\"===pn.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=mn.inflateSetDictionary(this.strm,t.dictionary),n!==kn)))throw new Error(ce[n])}function In(e,t){const n=new Un(t);if(n.push(e),n.err)throw n.msg||ce[n.err];return n.result}Un.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let i,s,o;if(this.ended)return!1;for(s=t===~~t?t:!0===t?bn:gn,\"[object ArrayBuffer]\"===pn.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=mn.inflate(n,s),i===xn&&a&&(i=mn.inflateSetDictionary(n,a),i===kn?i=mn.inflate(n,s):i===An&&(i=xn));n.avail_in>0&&i===yn&&n.state.wrap>0&&0!==e[n.next_in];)mn.inflateReset(n),i=mn.inflate(n,s);switch(i){case vn:case An:case xn:case zn:return this.onEnd(i),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(0===n.avail_out||i===yn))if(\"string\"===this.options.to){let e=mt.utf8border(n.output,n.next_out),t=n.next_out-e,a=mt.buf2string(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(a)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(i!==kn||0!==o){if(i===yn)return i=mn.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},Un.prototype.onData=function(e){this.chunks.push(e)},Un.prototype.onEnd=function(e){e===kn&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=ct.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Dn={Inflate:Un,inflate:In,inflateRaw:function(e,t){return(t=t||{}).raw=!0,In(e,t)},ungzip:In,constants:ue};const{Inflate:En,inflate:Bn,inflateRaw:Tn,ungzip:Mn}=Dn;var Sn=Bn;var Pn=Object.freeze({__proto__:null,default:class extends i{decodeBlock(e){return Sn(new Uint8Array(e)).buffer}}});var Vn,On=Object.freeze({__proto__:null,default:class extends i{decodeBlock(e){const t=new DataView(e),n=[];for(let r=0;r<e.byteLength;++r){let e=t.getInt8(r);if(e<0){const a=t.getUint8(r+1);e=-e;for(let t=0;t<=e;++t)n.push(a);r+=1}else{for(let a=0;a<=e;++a)n.push(t.getUint8(r+a+1));r+=e+1}}return new Uint8Array(n).buffer}}}),Cn={exports:{}};Vn=Cn,\n/* Copyright 2015-2021 Esri. Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */\nfunction(){var e,t,n,r,a,i,s,o,l,f,h,d,c,u,_,m,w=(e={defaultNoDataValue:-34027999387901484e22,decode:function(i,s){var o=(s=s||{}).encodedMaskData||null===s.encodedMaskData,l=a(i,s.inputOffset||0,o),f=null!==s.noDataValue?s.noDataValue:e.defaultNoDataValue,h=t(l,s.pixelType||Float32Array,s.encodedMaskData,f,s.returnMask),d={width:l.width,height:l.height,pixelData:h.resultPixels,minValue:h.minValue,maxValue:l.pixels.maxValue,noDataValue:f};return h.resultMask&&(d.maskData=h.resultMask),s.returnEncodedMask&&l.mask&&(d.encodedMaskData=l.mask.bitset?l.mask.bitset:null),s.returnFileInfo&&(d.fileInfo=n(l),s.computeUsedBitDepths&&(d.fileInfo.bitDepths=r(l))),d}},t=function(e,t,n,r,a){var s,o,l,f=0,h=e.pixels.numBlocksX,d=e.pixels.numBlocksY,c=Math.floor(e.width/h),u=Math.floor(e.height/d),_=2*e.maxZError,m=Number.MAX_VALUE;n=n||(e.mask?e.mask.bitset:null),o=new t(e.width*e.height),a&&n&&(l=new Uint8Array(e.width*e.height));for(var w,p,g=new Float32Array(c*u),b=0;b<=d;b++){var k=b!==d?u:e.height%d;if(0!==k)for(var y=0;y<=h;y++){var x=y!==h?c:e.width%h;if(0!==x){var v,A,z,U,I=b*e.width*u+y*c,D=e.width-x,E=e.pixels.blocks[f];if(E.encoding<2?(0===E.encoding?v=E.rawData:(i(E.stuffedData,E.bitsPerPixel,E.numValidPixels,E.offset,_,g,e.pixels.maxValue),v=g),A=0):z=2===E.encoding?0:E.offset,n)for(p=0;p<k;p++){for(7&I&&(U=n[I>>3],U<<=7&I),w=0;w<x;w++)7&I||(U=n[I>>3]),128&U?(l&&(l[I]=1),m=m>(s=E.encoding<2?v[A++]:z)?s:m,o[I++]=s):(l&&(l[I]=0),o[I++]=r),U<<=1;I+=D}else if(E.encoding<2)for(p=0;p<k;p++){for(w=0;w<x;w++)m=m>(s=v[A++])?s:m,o[I++]=s;I+=D}else for(m=m>z?z:m,p=0;p<k;p++){for(w=0;w<x;w++)o[I++]=z;I+=D}if(1===E.encoding&&A!==E.numValidPixels)throw\"Block and Mask do not match\";f++}}}return{resultPixels:o,resultMask:l,minValue:m}},n=function(e){return{fileIdentifierString:e.fileIdentifierString,fileVersion:e.fileVersion,imageType:e.imageType,height:e.height,width:e.width,maxZError:e.maxZError,eofOffset:e.eofOffset,mask:e.mask?{numBlocksX:e.mask.numBlocksX,numBlocksY:e.mask.numBlocksY,numBytes:e.mask.numBytes,maxValue:e.mask.maxValue}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,numBytes:e.pixels.numBytes,maxValue:e.pixels.maxValue,noDataValue:e.noDataValue}}},r=function(e){for(var t=e.pixels.numBlocksX*e.pixels.numBlocksY,n={},r=0;r<t;r++){var a=e.pixels.blocks[r];0===a.encoding?n.float32=!0:1===a.encoding?n[a.bitsPerPixel]=!0:n[0]=!0}return Object.keys(n)},a=function(e,t,n){var r={},a=new Uint8Array(e,t,10);if(r.fileIdentifierString=String.fromCharCode.apply(null,a),\"CntZImage\"!==r.fileIdentifierString.trim())throw\"Unexpected file identifier string: \"+r.fileIdentifierString;t+=10;var i=new DataView(e,t,24);if(r.fileVersion=i.getInt32(0,!0),r.imageType=i.getInt32(4,!0),r.height=i.getUint32(8,!0),r.width=i.getUint32(12,!0),r.maxZError=i.getFloat64(16,!0),t+=24,!n)if(i=new DataView(e,t,16),r.mask={},r.mask.numBlocksY=i.getUint32(0,!0),r.mask.numBlocksX=i.getUint32(4,!0),r.mask.numBytes=i.getUint32(8,!0),r.mask.maxValue=i.getFloat32(12,!0),t+=16,r.mask.numBytes>0){var s=new Uint8Array(Math.ceil(r.width*r.height/8)),o=(i=new DataView(e,t,r.mask.numBytes)).getInt16(0,!0),l=2,f=0;do{if(o>0)for(;o--;)s[f++]=i.getUint8(l++);else{var h=i.getUint8(l++);for(o=-o;o--;)s[f++]=h}o=i.getInt16(l,!0),l+=2}while(l<r.mask.numBytes);if(-32768!==o||f<s.length)throw\"Unexpected end of mask RLE encoding\";r.mask.bitset=s,t+=r.mask.numBytes}else 0==(r.mask.numBytes|r.mask.numBlocksY|r.mask.maxValue)&&(r.mask.bitset=new Uint8Array(Math.ceil(r.width*r.height/8)));i=new DataView(e,t,16),r.pixels={},r.pixels.numBlocksY=i.getUint32(0,!0),r.pixels.numBlocksX=i.getUint32(4,!0),r.pixels.numBytes=i.getUint32(8,!0),r.pixels.maxValue=i.getFloat32(12,!0),t+=16;var d=r.pixels.numBlocksX,c=r.pixels.numBlocksY,u=d+(r.width%d>0?1:0),_=c+(r.height%c>0?1:0);r.pixels.blocks=new Array(u*_);for(var m=0,w=0;w<_;w++)for(var p=0;p<u;p++){var g=0,b=e.byteLength-t;i=new DataView(e,t,Math.min(10,b));var k={};r.pixels.blocks[m++]=k;var y=i.getUint8(0);if(g++,k.encoding=63&y,k.encoding>3)throw\"Invalid block encoding (\"+k.encoding+\")\";if(2!==k.encoding){if(0!==y&&2!==y){if(y>>=6,k.offsetType=y,2===y)k.offset=i.getInt8(1),g++;else if(1===y)k.offset=i.getInt16(1,!0),g+=2;else{if(0!==y)throw\"Invalid block offset type\";k.offset=i.getFloat32(1,!0),g+=4}if(1===k.encoding)if(y=i.getUint8(g),g++,k.bitsPerPixel=63&y,y>>=6,k.numValidPixelsType=y,2===y)k.numValidPixels=i.getUint8(g),g++;else if(1===y)k.numValidPixels=i.getUint16(g,!0),g+=2;else{if(0!==y)throw\"Invalid valid pixel count type\";k.numValidPixels=i.getUint32(g,!0),g+=4}}var x;if(t+=g,3!==k.encoding)if(0===k.encoding){var v=(r.pixels.numBytes-1)/4;if(v!==Math.floor(v))throw\"uncompressed block has invalid length\";x=new ArrayBuffer(4*v),new Uint8Array(x).set(new Uint8Array(e,t,4*v));var A=new Float32Array(x);k.rawData=A,t+=4*v}else if(1===k.encoding){var z=Math.ceil(k.numValidPixels*k.bitsPerPixel/8),U=Math.ceil(z/4);x=new ArrayBuffer(4*U),new Uint8Array(x).set(new Uint8Array(e,t,z)),k.stuffedData=new Uint32Array(x),t+=z}}else t++}return r.eofOffset=t,r},i=function(e,t,n,r,a,i,s){var o,l,f,h=(1<<t)-1,d=0,c=0,u=Math.ceil((s-r)/a),_=4*e.length-Math.ceil(t*n/8);for(e[e.length-1]<<=8*_,o=0;o<n;o++){if(0===c&&(f=e[d++],c=32),c>=t)l=f>>>c-t&h,c-=t;else{var m=t-c;l=(f&h)<<m&h,l+=(f=e[d++])>>>(c=32-m)}i[o]=l<u?r+l*a:s}return i},e),p=(s=function(e,t,n,r,a,i,s,o){var l,f,h,d,c,u=(1<<n)-1,_=0,m=0,w=4*e.length-Math.ceil(n*r/8);if(e[e.length-1]<<=8*w,a)for(l=0;l<r;l++)0===m&&(h=e[_++],m=32),m>=n?(f=h>>>m-n&u,m-=n):(f=(h&u)<<(d=n-m)&u,f+=(h=e[_++])>>>(m=32-d)),t[l]=a[f];else for(c=Math.ceil((o-i)/s),l=0;l<r;l++)0===m&&(h=e[_++],m=32),m>=n?(f=h>>>m-n&u,m-=n):(f=(h&u)<<(d=n-m)&u,f+=(h=e[_++])>>>(m=32-d)),t[l]=f<c?i+f*s:o},o=function(e,t,n,r,a,i){var s,o=(1<<t)-1,l=0,f=0,h=0,d=0,c=0,u=[],_=4*e.length-Math.ceil(t*n/8);e[e.length-1]<<=8*_;var m=Math.ceil((i-r)/a);for(f=0;f<n;f++)0===d&&(s=e[l++],d=32),d>=t?(c=s>>>d-t&o,d-=t):(c=(s&o)<<(h=t-d)&o,c+=(s=e[l++])>>>(d=32-h)),u[f]=c<m?r+c*a:i;return u.unshift(r),u},l=function(e,t,n,r,a,i,s,o){var l,f,h,d,c=(1<<n)-1,u=0,_=0,m=0;if(a)for(l=0;l<r;l++)0===_&&(h=e[u++],_=32,m=0),_>=n?(f=h>>>m&c,_-=n,m+=n):(f=h>>>m&c,_=32-(d=n-_),f|=((h=e[u++])&(1<<d)-1)<<n-d,m=d),t[l]=a[f];else{var w=Math.ceil((o-i)/s);for(l=0;l<r;l++)0===_&&(h=e[u++],_=32,m=0),_>=n?(f=h>>>m&c,_-=n,m+=n):(f=h>>>m&c,_=32-(d=n-_),f|=((h=e[u++])&(1<<d)-1)<<n-d,m=d),t[l]=f<w?i+f*s:o}return t},f=function(e,t,n,r,a,i){var s,o=(1<<t)-1,l=0,f=0,h=0,d=0,c=0,u=0,_=[],m=Math.ceil((i-r)/a);for(f=0;f<n;f++)0===d&&(s=e[l++],d=32,u=0),d>=t?(c=s>>>u&o,d-=t,u+=t):(c=s>>>u&o,d=32-(h=t-d),c|=((s=e[l++])&(1<<h)-1)<<t-h,u=h),_[f]=c<m?r+c*a:i;return _.unshift(r),_},h=function(e,t,n,r){var a,i,s,o,l=(1<<n)-1,f=0,h=0,d=4*e.length-Math.ceil(n*r/8);for(e[e.length-1]<<=8*d,a=0;a<r;a++)0===h&&(s=e[f++],h=32),h>=n?(i=s>>>h-n&l,h-=n):(i=(s&l)<<(o=n-h)&l,i+=(s=e[f++])>>>(h=32-o)),t[a]=i;return t},d=function(e,t,n,r){var a,i,s,o,l=(1<<n)-1,f=0,h=0,d=0;for(a=0;a<r;a++)0===h&&(s=e[f++],h=32,d=0),h>=n?(i=s>>>d&l,h-=n,d+=n):(i=s>>>d&l,h=32-(o=n-h),i|=((s=e[f++])&(1<<o)-1)<<n-o,d=o),t[a]=i;return t},c={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(e){for(var t=65535,n=65535,r=e.length,a=Math.floor(r/2),i=0;a;){var s=a>=359?359:a;a-=s;do{t+=e[i++]<<8,n+=t+=e[i++]}while(--s);t=(65535&t)+(t>>>16),n=(65535&n)+(n>>>16)}return 1&r&&(n+=t+=e[i]<<8),((n=(65535&n)+(n>>>16))<<16|(t=(65535&t)+(t>>>16)))>>>0},readHeaderInfo:function(e,t){var n=t.ptr,r=new Uint8Array(e,n,6),a={};if(a.fileIdentifierString=String.fromCharCode.apply(null,r),0!==a.fileIdentifierString.lastIndexOf(\"Lerc2\",0))throw\"Unexpected file identifier string (expect Lerc2 ): \"+a.fileIdentifierString;n+=6;var i,s=new DataView(e,n,8),o=s.getInt32(0,!0);if(a.fileVersion=o,n+=4,o>=3&&(a.checksum=s.getUint32(4,!0),n+=4),s=new DataView(e,n,12),a.height=s.getUint32(0,!0),a.width=s.getUint32(4,!0),n+=8,o>=4?(a.numDims=s.getUint32(8,!0),n+=4):a.numDims=1,s=new DataView(e,n,40),a.numValidPixel=s.getUint32(0,!0),a.microBlockSize=s.getInt32(4,!0),a.blobSize=s.getInt32(8,!0),a.imageType=s.getInt32(12,!0),a.maxZError=s.getFloat64(16,!0),a.zMin=s.getFloat64(24,!0),a.zMax=s.getFloat64(32,!0),n+=40,t.headerInfo=a,t.ptr=n,o>=3&&(i=o>=4?52:48,this.computeChecksumFletcher32(new Uint8Array(e,n-i,a.blobSize-14))!==a.checksum))throw\"Checksum failed.\";return!0},checkMinMaxRanges:function(e,t){var n=t.headerInfo,r=this.getDataTypeArray(n.imageType),a=n.numDims*this.getDataTypeSize(n.imageType),i=this.readSubArray(e,t.ptr,r,a),s=this.readSubArray(e,t.ptr+a,r,a);t.ptr+=2*a;var o,l=!0;for(o=0;o<n.numDims;o++)if(i[o]!==s[o]){l=!1;break}return n.minValues=i,n.maxValues=s,l},readSubArray:function(e,t,n,r){var a;if(n===Uint8Array)a=new Uint8Array(e,t,r);else{var i=new ArrayBuffer(r);new Uint8Array(i).set(new Uint8Array(e,t,r)),a=new n(i)}return a},readMask:function(e,t){var n,r,a=t.ptr,i=t.headerInfo,s=i.width*i.height,o=i.numValidPixel,l=new DataView(e,a,4),f={};if(f.numBytes=l.getUint32(0,!0),a+=4,(0===o||s===o)&&0!==f.numBytes)throw\"invalid mask\";if(0===o)n=new Uint8Array(Math.ceil(s/8)),f.bitset=n,r=new Uint8Array(s),t.pixels.resultMask=r,a+=f.numBytes;else if(f.numBytes>0){n=new Uint8Array(Math.ceil(s/8));var h=(l=new DataView(e,a,f.numBytes)).getInt16(0,!0),d=2,c=0,u=0;do{if(h>0)for(;h--;)n[c++]=l.getUint8(d++);else for(u=l.getUint8(d++),h=-h;h--;)n[c++]=u;h=l.getInt16(d,!0),d+=2}while(d<f.numBytes);if(-32768!==h||c<n.length)throw\"Unexpected end of mask RLE encoding\";r=new Uint8Array(s);var _=0,m=0;for(m=0;m<s;m++)7&m?(_=n[m>>3],_<<=7&m):_=n[m>>3],128&_&&(r[m]=1);t.pixels.resultMask=r,f.bitset=n,a+=f.numBytes}return t.ptr=a,t.mask=f,!0},readDataOneSweep:function(e,t,n,r){var a,i=t.ptr,s=t.headerInfo,o=s.numDims,l=s.width*s.height,f=s.imageType,h=s.numValidPixel*c.getDataTypeSize(f)*o,d=t.pixels.resultMask;if(n===Uint8Array)a=new Uint8Array(e,i,h);else{var u=new ArrayBuffer(h);new Uint8Array(u).set(new Uint8Array(e,i,h)),a=new n(u)}if(a.length===l*o)t.pixels.resultPixels=r?c.swapDimensionOrder(a,l,o,n,!0):a;else{t.pixels.resultPixels=new n(l*o);var _=0,m=0,w=0,p=0;if(o>1){if(r){for(m=0;m<l;m++)if(d[m])for(p=m,w=0;w<o;w++,p+=l)t.pixels.resultPixels[p]=a[_++]}else for(m=0;m<l;m++)if(d[m])for(p=m*o,w=0;w<o;w++)t.pixels.resultPixels[p+w]=a[_++]}else for(m=0;m<l;m++)d[m]&&(t.pixels.resultPixels[m]=a[_++])}return i+=h,t.ptr=i,!0},readHuffmanTree:function(e,t){var n=this.HUFFMAN_LUT_BITS_MAX,r=new DataView(e,t.ptr,16);if(t.ptr+=16,r.getInt32(0,!0)<2)throw\"unsupported Huffman version\";var a=r.getInt32(4,!0),i=r.getInt32(8,!0),s=r.getInt32(12,!0);if(i>=s)return!1;var o=new Uint32Array(s-i);c.decodeBits(e,t,o);var l,f,h,d,_=[];for(l=i;l<s;l++)_[f=l-(l<a?0:a)]={first:o[l-i],second:null};var m=e.byteLength-t.ptr,w=Math.ceil(m/4),p=new ArrayBuffer(4*w);new Uint8Array(p).set(new Uint8Array(e,t.ptr,m));var g,b=new Uint32Array(p),k=0,y=0;for(g=b[0],l=i;l<s;l++)(d=_[f=l-(l<a?0:a)].first)>0&&(_[f].second=g<<k>>>32-d,32-k>=d?32===(k+=d)&&(k=0,g=b[++y]):(k+=d-32,g=b[++y],_[f].second|=g>>>32-k));var x=0,v=0,A=new u;for(l=0;l<_.length;l++)void 0!==_[l]&&(x=Math.max(x,_[l].first));v=x>=n?n:x;var z,U,I,D,E,B=[];for(l=i;l<s;l++)if((d=_[f=l-(l<a?0:a)].first)>0)if(z=[d,f],d<=v)for(U=_[f].second<<v-d,I=1<<v-d,h=0;h<I;h++)B[U|h]=z;else for(U=_[f].second,E=A,D=d-1;D>=0;D--)U>>>D&1?(E.right||(E.right=new u),E=E.right):(E.left||(E.left=new u),E=E.left),0!==D||E.val||(E.val=z[1]);return{decodeLut:B,numBitsLUTQick:v,numBitsLUT:x,tree:A,stuffedData:b,srcPtr:y,bitPos:k}},readHuffman:function(e,t,n,r){var a,i,s,o,l,f,h,d,u,_=t.headerInfo.numDims,m=t.headerInfo.height,w=t.headerInfo.width,p=w*m,g=this.readHuffmanTree(e,t),b=g.decodeLut,k=g.tree,y=g.stuffedData,x=g.srcPtr,v=g.bitPos,A=g.numBitsLUTQick,z=g.numBitsLUT,U=0===t.headerInfo.imageType?128:0,I=t.pixels.resultMask,D=0;v>0&&(x++,v=0);var E,B=y[x],T=1===t.encodeMode,M=new n(p*_),S=M;if(_<2||T){for(E=0;E<_;E++)if(_>1&&(S=new n(M.buffer,p*E,p),D=0),t.headerInfo.numValidPixel===w*m)for(d=0,f=0;f<m;f++)for(h=0;h<w;h++,d++){if(i=0,l=o=B<<v>>>32-A,32-v<A&&(l=o|=y[x+1]>>>64-v-A),b[l])i=b[l][1],v+=b[l][0];else for(l=o=B<<v>>>32-z,32-v<z&&(l=o|=y[x+1]>>>64-v-z),a=k,u=0;u<z;u++)if(!(a=o>>>z-u-1&1?a.right:a.left).left&&!a.right){i=a.val,v=v+u+1;break}v>=32&&(v-=32,B=y[++x]),s=i-U,T?(s+=h>0?D:f>0?S[d-w]:D,s&=255,S[d]=s,D=s):S[d]=s}else for(d=0,f=0;f<m;f++)for(h=0;h<w;h++,d++)if(I[d]){if(i=0,l=o=B<<v>>>32-A,32-v<A&&(l=o|=y[x+1]>>>64-v-A),b[l])i=b[l][1],v+=b[l][0];else for(l=o=B<<v>>>32-z,32-v<z&&(l=o|=y[x+1]>>>64-v-z),a=k,u=0;u<z;u++)if(!(a=o>>>z-u-1&1?a.right:a.left).left&&!a.right){i=a.val,v=v+u+1;break}v>=32&&(v-=32,B=y[++x]),s=i-U,T?(h>0&&I[d-1]?s+=D:f>0&&I[d-w]?s+=S[d-w]:s+=D,s&=255,S[d]=s,D=s):S[d]=s}}else for(d=0,f=0;f<m;f++)for(h=0;h<w;h++)if(d=f*w+h,!I||I[d])for(E=0;E<_;E++,d+=p){if(i=0,l=o=B<<v>>>32-A,32-v<A&&(l=o|=y[x+1]>>>64-v-A),b[l])i=b[l][1],v+=b[l][0];else for(l=o=B<<v>>>32-z,32-v<z&&(l=o|=y[x+1]>>>64-v-z),a=k,u=0;u<z;u++)if(!(a=o>>>z-u-1&1?a.right:a.left).left&&!a.right){i=a.val,v=v+u+1;break}v>=32&&(v-=32,B=y[++x]),s=i-U,S[d]=s}t.ptr=t.ptr+4*(x+1)+(v>0?4:0),t.pixels.resultPixels=M,_>1&&!r&&(t.pixels.resultPixels=c.swapDimensionOrder(M,p,_,n))},decodeBits:function(e,t,n,r,a){var i=t.headerInfo,c=i.fileVersion,u=0,_=e.byteLength-t.ptr>=5?5:e.byteLength-t.ptr,m=new DataView(e,t.ptr,_),w=m.getUint8(0);u++;var p=w>>6,g=0===p?4:3-p,b=(32&w)>0,k=31&w,y=0;if(1===g)y=m.getUint8(u),u++;else if(2===g)y=m.getUint16(u,!0),u+=2;else{if(4!==g)throw\"Invalid valid pixel count type\";y=m.getUint32(u,!0),u+=4}var x,v,A,z,U,I,D,E,B,T=2*i.maxZError,M=i.numDims>1?i.maxValues[a]:i.zMax;if(b){for(t.counter.lut++,E=m.getUint8(u),u++,z=Math.ceil((E-1)*k/8),U=Math.ceil(z/4),v=new ArrayBuffer(4*U),A=new Uint8Array(v),t.ptr+=u,A.set(new Uint8Array(e,t.ptr,z)),D=new Uint32Array(v),t.ptr+=z,B=0;E-1>>>B;)B++;z=Math.ceil(y*B/8),U=Math.ceil(z/4),v=new ArrayBuffer(4*U),(A=new Uint8Array(v)).set(new Uint8Array(e,t.ptr,z)),x=new Uint32Array(v),t.ptr+=z,I=c>=3?f(D,k,E-1,r,T,M):o(D,k,E-1,r,T,M),c>=3?l(x,n,B,y,I):s(x,n,B,y,I)}else t.counter.bitstuffer++,B=k,t.ptr+=u,B>0&&(z=Math.ceil(y*B/8),U=Math.ceil(z/4),v=new ArrayBuffer(4*U),(A=new Uint8Array(v)).set(new Uint8Array(e,t.ptr,z)),x=new Uint32Array(v),t.ptr+=z,c>=3?null==r?d(x,n,B,y):l(x,n,B,y,!1,r,T,M):null==r?h(x,n,B,y):s(x,n,B,y,!1,r,T,M))},readTiles:function(e,t,n,r){var a=t.headerInfo,i=a.width,s=a.height,o=i*s,l=a.microBlockSize,f=a.imageType,h=c.getDataTypeSize(f),d=Math.ceil(i/l),u=Math.ceil(s/l);t.pixels.numBlocksY=u,t.pixels.numBlocksX=d,t.pixels.ptr=0;var _,m,w,p,g,b,k,y,x,v,A=0,z=0,U=0,I=0,D=0,E=0,B=0,T=0,M=0,S=0,P=0,V=0,O=0,C=0,R=0,L=new n(l*l),Z=s%l||l,F=i%l||l,N=a.numDims,H=t.pixels.resultMask,j=t.pixels.resultPixels,Y=a.fileVersion>=5?14:15,X=a.zMax;for(U=0;U<u;U++)for(D=U!==u-1?l:Z,I=0;I<d;I++)for(S=U*i*l+I*l,P=i-(E=I!==d-1?l:F),y=0;y<N;y++){if(N>1?(v=j,S=U*i*l+I*l,j=new n(t.pixels.resultPixels.buffer,o*y*h,o),X=a.maxValues[y]):v=null,B=e.byteLength-t.ptr,m={},R=0,T=(_=new DataView(e,t.ptr,Math.min(10,B))).getUint8(0),R++,x=a.fileVersion>=5?4&T:0,M=T>>6&255,(T>>2&Y)!=(I*l>>3&Y))throw\"integrity issue\";if(x&&0===y)throw\"integrity issue\";if((g=3&T)>3)throw t.ptr+=R,\"Invalid block encoding (\"+g+\")\";if(2!==g)if(0===g){if(x)throw\"integrity issue\";if(t.counter.uncompressed++,t.ptr+=R,V=(V=D*E*h)<(O=e.byteLength-t.ptr)?V:O,w=new ArrayBuffer(V%h==0?V:V+h-V%h),new Uint8Array(w).set(new Uint8Array(e,t.ptr,V)),p=new n(w),C=0,H)for(A=0;A<D;A++){for(z=0;z<E;z++)H[S]&&(j[S]=p[C++]),S++;S+=P}else for(A=0;A<D;A++){for(z=0;z<E;z++)j[S++]=p[C++];S+=P}t.ptr+=C*h}else if(b=c.getDataTypeUsed(x&&f<6?4:f,M),k=c.getOnePixel(m,R,b,_),R+=c.getDataTypeSize(b),3===g)if(t.ptr+=R,t.counter.constantoffset++,H)for(A=0;A<D;A++){for(z=0;z<E;z++)H[S]&&(j[S]=x?Math.min(X,v[S]+k):k),S++;S+=P}else for(A=0;A<D;A++){for(z=0;z<E;z++)j[S]=x?Math.min(X,v[S]+k):k,S++;S+=P}else if(t.ptr+=R,c.decodeBits(e,t,L,k,y),R=0,x)if(H)for(A=0;A<D;A++){for(z=0;z<E;z++)H[S]&&(j[S]=L[R++]+v[S]),S++;S+=P}else for(A=0;A<D;A++){for(z=0;z<E;z++)j[S]=L[R++]+v[S],S++;S+=P}else if(H)for(A=0;A<D;A++){for(z=0;z<E;z++)H[S]&&(j[S]=L[R++]),S++;S+=P}else for(A=0;A<D;A++){for(z=0;z<E;z++)j[S++]=L[R++];S+=P}else{if(x)if(H)for(A=0;A<D;A++)for(z=0;z<E;z++)H[S]&&(j[S]=v[S]),S++;else for(A=0;A<D;A++)for(z=0;z<E;z++)j[S]=v[S],S++;t.counter.constant++,t.ptr+=R}}N>1&&!r&&(t.pixels.resultPixels=c.swapDimensionOrder(t.pixels.resultPixels,o,N,n))},formatFileInfo:function(e){return{fileIdentifierString:e.headerInfo.fileIdentifierString,fileVersion:e.headerInfo.fileVersion,imageType:e.headerInfo.imageType,height:e.headerInfo.height,width:e.headerInfo.width,numValidPixel:e.headerInfo.numValidPixel,microBlockSize:e.headerInfo.microBlockSize,blobSize:e.headerInfo.blobSize,maxZError:e.headerInfo.maxZError,pixelType:c.getPixelType(e.headerInfo.imageType),eofOffset:e.eofOffset,mask:e.mask?{numBytes:e.mask.numBytes}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,maxValue:e.headerInfo.zMax,minValue:e.headerInfo.zMin,noDataValue:e.noDataValue}}},constructConstantSurface:function(e,t){var n=e.headerInfo.zMax,r=e.headerInfo.zMin,a=e.headerInfo.maxValues,i=e.headerInfo.numDims,s=e.headerInfo.height*e.headerInfo.width,o=0,l=0,f=0,h=e.pixels.resultMask,d=e.pixels.resultPixels;if(h)if(i>1){if(t)for(o=0;o<i;o++)for(f=o*s,n=a[o],l=0;l<s;l++)h[l]&&(d[f+l]=n);else for(l=0;l<s;l++)if(h[l])for(f=l*i,o=0;o<i;o++)d[f+i]=a[o]}else for(l=0;l<s;l++)h[l]&&(d[l]=n);else if(i>1&&r!==n)if(t)for(o=0;o<i;o++)for(f=o*s,n=a[o],l=0;l<s;l++)d[f+l]=n;else for(l=0;l<s;l++)for(f=l*i,o=0;o<i;o++)d[f+o]=a[o];else for(l=0;l<s*i;l++)d[l]=n},getDataTypeArray:function(e){var t;switch(e){case 0:t=Int8Array;break;case 1:t=Uint8Array;break;case 2:t=Int16Array;break;case 3:t=Uint16Array;break;case 4:t=Int32Array;break;case 5:t=Uint32Array;break;case 6:default:t=Float32Array;break;case 7:t=Float64Array}return t},getPixelType:function(e){var t;switch(e){case 0:t=\"S8\";break;case 1:t=\"U8\";break;case 2:t=\"S16\";break;case 3:t=\"U16\";break;case 4:t=\"S32\";break;case 5:t=\"U32\";break;case 6:default:t=\"F32\";break;case 7:t=\"F64\"}return t},isValidPixelValue:function(e,t){if(null==t)return!1;var n;switch(e){case 0:n=t>=-128&&t<=127;break;case 1:n=t>=0&&t<=255;break;case 2:n=t>=-32768&&t<=32767;break;case 3:n=t>=0&&t<=65536;break;case 4:n=t>=-2147483648&&t<=2147483647;break;case 5:n=t>=0&&t<=4294967296;break;case 6:n=t>=-34027999387901484e22&&t<=34027999387901484e22;break;case 7:n=t>=-17976931348623157e292&&t<=17976931348623157e292;break;default:n=!1}return n},getDataTypeSize:function(e){var t=0;switch(e){case 0:case 1:t=1;break;case 2:case 3:t=2;break;case 4:case 5:case 6:t=4;break;case 7:t=8;break;default:t=e}return t},getDataTypeUsed:function(e,t){var n=e;switch(e){case 2:case 4:n=e-t;break;case 3:case 5:n=e-2*t;break;case 6:n=0===t?e:1===t?2:1;break;case 7:n=0===t?e:e-2*t+1;break;default:n=e}return n},getOnePixel:function(e,t,n,r){var a=0;switch(n){case 0:a=r.getInt8(t);break;case 1:a=r.getUint8(t);break;case 2:a=r.getInt16(t,!0);break;case 3:a=r.getUint16(t,!0);break;case 4:a=r.getInt32(t,!0);break;case 5:a=r.getUInt32(t,!0);break;case 6:a=r.getFloat32(t,!0);break;case 7:a=r.getFloat64(t,!0);break;default:throw\"the decoder does not understand this pixel type\"}return a},swapDimensionOrder:function(e,t,n,r,a){var i=0,s=0,o=0,l=0,f=e;if(n>1)if(f=new r(t*n),a)for(i=0;i<t;i++)for(l=i,o=0;o<n;o++,l+=t)f[l]=e[s++];else for(i=0;i<t;i++)for(l=i,o=0;o<n;o++,l+=t)f[s++]=e[l];return f}},u=function(e,t,n){this.val=e,this.left=t,this.right=n},{decode:function(e,t){var n=(t=t||{}).noDataValue,r=0,a={};a.ptr=t.inputOffset||0,a.pixels={},c.readHeaderInfo(e,a);var i=a.headerInfo,s=i.fileVersion,o=c.getDataTypeArray(i.imageType);if(s>5)throw\"unsupported lerc version 2.\"+s;c.readMask(e,a),i.numValidPixel===i.width*i.height||a.pixels.resultMask||(a.pixels.resultMask=t.maskData);var l=i.width*i.height;a.pixels.resultPixels=new o(l*i.numDims),a.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var f,h=!t.returnPixelInterleavedDims;if(0!==i.numValidPixel)if(i.zMax===i.zMin)c.constructConstantSurface(a,h);else if(s>=4&&c.checkMinMaxRanges(e,a))c.constructConstantSurface(a,h);else{var d=new DataView(e,a.ptr,2),u=d.getUint8(0);if(a.ptr++,u)c.readDataOneSweep(e,a,o,h);else if(s>1&&i.imageType<=1&&Math.abs(i.maxZError-.5)<1e-5){var _=d.getUint8(1);if(a.ptr++,a.encodeMode=_,_>2||s<4&&_>1)throw\"Invalid Huffman flag \"+_;_?c.readHuffman(e,a,o,h):c.readTiles(e,a,o,h)}else c.readTiles(e,a,o,h)}a.eofOffset=a.ptr,t.inputOffset?(f=a.headerInfo.blobSize+t.inputOffset-a.ptr,Math.abs(f)>=1&&(a.eofOffset=t.inputOffset+a.headerInfo.blobSize)):(f=a.headerInfo.blobSize-a.ptr,Math.abs(f)>=1&&(a.eofOffset=a.headerInfo.blobSize));var m={width:i.width,height:i.height,pixelData:a.pixels.resultPixels,minValue:i.zMin,maxValue:i.zMax,validPixelCount:i.numValidPixel,dimCount:i.numDims,dimStats:{minValues:i.minValues,maxValues:i.maxValues},maskData:a.pixels.resultMask};if(a.pixels.resultMask&&c.isValidPixelValue(i.imageType,n)){var w=a.pixels.resultMask;for(r=0;r<l;r++)w[r]||(m.pixelData[r]=n);m.noDataValue=n}return a.noDataValue=n,t.returnFileInfo&&(m.fileInfo=c.formatFileInfo(a)),m},getBandCount:function(e){for(var t=0,n=0,r={ptr:0,pixels:{}};n<e.byteLength-58;)c.readHeaderInfo(e,r),n+=r.headerInfo.blobSize,t++,r.ptr=n;return t}}),g=(_=new ArrayBuffer(4),m=new Uint8Array(_),new Uint32Array(_)[0]=1,1===m[0]),b={decode:function(e,t){if(!g)throw\"Big endian system is not supported.\";var n,r,a=(t=t||{}).inputOffset||0,i=new Uint8Array(e,a,10),s=String.fromCharCode.apply(null,i);if(\"CntZImage\"===s.trim())n=w,r=1;else{if(\"Lerc2\"!==s.substring(0,5))throw\"Unexpected file identifier string: \"+s;n=p,r=2}for(var o,l,f,h,d,c,u=0,_=e.byteLength-10,m=[],b={width:0,height:0,pixels:[],pixelType:t.pixelType,mask:null,statistics:[]},k=0;a<_;){var y=n.decode(e,{inputOffset:a,encodedMaskData:o,maskData:f,returnMask:0===u,returnEncodedMask:0===u,returnFileInfo:!0,returnPixelInterleavedDims:t.returnPixelInterleavedDims,pixelType:t.pixelType||null,noDataValue:t.noDataValue||null});a=y.fileInfo.eofOffset,f=y.maskData,0===u&&(o=y.encodedMaskData,b.width=y.width,b.height=y.height,b.dimCount=y.dimCount||1,b.pixelType=y.pixelType||y.fileInfo.pixelType,b.mask=f),r>1&&(f&&m.push(f),y.fileInfo.mask&&y.fileInfo.mask.numBytes>0&&k++),u++,b.pixels.push(y.pixelData),b.statistics.push({minValue:y.minValue,maxValue:y.maxValue,noDataValue:y.noDataValue,dimStats:y.dimStats})}if(r>1&&k>1){for(c=b.width*b.height,b.bandMasks=m,(f=new Uint8Array(c)).set(m[0]),h=1;h<m.length;h++)for(l=m[h],d=0;d<c;d++)f[d]=f[d]&l[d];b.maskData=f}return b}};Vn.exports?Vn.exports=b:this.Lerc=b}();var Rn=Cn.exports;const Ln=1,Zn=0,Fn=1;var Nn=Object.freeze({__proto__:null,default:class extends i{constructor(e){super(),this.planarConfiguration=void 0!==e.PlanarConfiguration?e.PlanarConfiguration:1,this.samplesPerPixel=void 0!==e.SamplesPerPixel?e.SamplesPerPixel:1,this.addCompression=e.LercParameters[Ln]}decodeBlock(e){switch(this.addCompression){case Zn:break;case Fn:e=Sn(new Uint8Array(e)).buffer;break;default:throw new Error(`Unsupported LERC additional compression method identifier: ${this.addCompression}`)}return Rn.decode(e,{returnPixelInterleavedDims:1===this.planarConfiguration}).pixels[0].buffer}}});var Hn=Object.freeze({__proto__:null,default:class extends i{constructor(){if(super(),\"undefined\"==typeof createImageBitmap)throw new Error(\"Cannot decode WebImage as `createImageBitmap` is not available\");if(\"undefined\"==typeof document&&\"undefined\"==typeof OffscreenCanvas)throw new Error(\"Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available\")}async decode(e,t){const n=new Blob([t]),r=await createImageBitmap(n);let a;\"undefined\"!=typeof document?(a=document.createElement(\"canvas\"),a.width=r.width,a.height=r.height):a=new OffscreenCanvas(r.width,r.height);const i=a.getContext(\"2d\");return i.drawImage(r,0,0),i.getImageData(0,0,r.width,r.height).data.buffer}}});";
          return new Worker(typeof Blob === 'undefined'
            ? 'data:application/javascript;base64,' + Buffer.from(source, 'binary').toString('base64')
            : URL.createObjectURL(new Blob([source], {type: 'application/javascript'})));
        }
      
